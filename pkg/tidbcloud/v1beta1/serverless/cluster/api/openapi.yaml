openapi: 3.0.1
info:
  description: |
    *TiDB Cloud API is in beta.*

    This API manages [TiDB Cloud Starter](https://docs.pingcap.com/tidbcloud/select-cluster-tier/#tidb-cloud-serverless) and [TiDB Cloud Essential](https://docs.pingcap.com/tidbcloud/select-cluster-tier/#essential) clusters. For [TiDB Cloud Dedicated](https://docs.pingcap.com/tidbcloud/select-cluster-tier/#tidb-cloud-dedicated) clusters, use the [TiDB Cloud Dedicated API](https://docs.pingcap.com/tidbcloud/api/v1beta1/dedicated/). For more information about TiDB Cloud API, see [TiDB Cloud API Overview](https://docs.pingcap.com/tidbcloud/api-overview/).

    # Overview

    The TiDB Cloud API is a [REST interface](https://en.wikipedia.org/wiki/Representational_state_transfer) that provides you with programmatic access to manage clusters and related resources within TiDB Cloud.

    The API has the following features:

    - **JSON entities.** All entities are expressed in JSON.
    - **HTTPS-only.** You can only access the API via HTTPS, ensuring all the data sent over the network is encrypted with TLS.
    - **Key-based access and digest authentication.** Before you access TiDB Cloud API, you must generate an API key. All requests are authenticated through [HTTP Digest Authentication](https://en.wikipedia.org/wiki/Digest_access_authentication), ensuring the API key is never sent over the network.

    # Get Started

    This guide helps you make your first API call to TiDB Cloud API. You'll learn how to authenticate a request, build a request, and interpret the response.

    ## Prerequisites

    To complete this guide, you need to perform the following tasks:

    - Create a [TiDB Cloud account](https://tidbcloud.com/free-trial)
    - Install [curl](https://curl.se/)

    ## Step 1. Create an API key

    To create an API key, log in to your TiDB Cloud console. Navigate to the [**API Keys**](https://tidbcloud.com/org-settings/api-keys) page of your organization, and create an API key.

    An API key contains a public key and a private key. Copy and save them in a secure location. You will need to use the API key later in this guide.

    For more details about creating API key, refer to [API Key Management](#section/Authentication/API-Key-Management).

    ## Step 2. Make your first API call

    ### Build an API call

    TiDB Cloud API call consists of the following components:

    - **A host**. The host for TiDB Cloud API is <https://serverless.tidbapi.com>.
    - **An API Key**. The public key and the private key are required for authentication.
    - **A request**. When submitting data to a resource via `POST`, `PATCH`, or `PUT`, you must submit your payload in JSON.

    In this guide, you call the [List all clusters](#tag/Cluster/operation/ClusterService_ListClusters) endpoint. For the detailed description of the endpoint, see the [API reference](#tag/Cluster/operation/ClusterService_ListClusters).

    ### Call an API endpoint

    To get all clusters in your organization, run the following command in your terminal. Remember to change `YOUR_PUBLIC_KEY` to your public key and `YOUR_PRIVATE_KEY` to your private key.

    ```shell
    curl --digest \
     --user 'YOUR_PUBLIC_KEY:YOUR_PRIVATE_KEY' \
     --request GET \
     --url 'https://serverless.tidbapi.com/v1beta1/clusters'
    ```

    ## Step 3. Check the response

    After making the API call, if the status code in response is `200` and you see details about all clusters in your organization, your request is successful.

    # Authentication

    The TiDB Cloud API uses [HTTP Digest Authentication](https://en.wikipedia.org/wiki/Digest_access_authentication). It protects your private key from being sent over the network. For more details about HTTP Digest Authentication, refer to the [IETF RFC](https://datatracker.ietf.org/doc/html/rfc7616).

    ## API key overview

    - The API key contains a public key and a private key, which act as the username and password required in the HTTP Digest Authentication. The private key only displays upon the key creation.
    - The API key belongs to your organization and acts as the `Organization Owner` role. You can check [permissions of owner](https://docs.pingcap.com/tidbcloud/manage-user-access#configure-member-roles).
    - You must provide the correct API key in every request. Otherwise, the TiDB Cloud responds with a `401` error.

    ## API key management

    ### Create an API key

    Only the **owner** of an organization can create an API key.

    To create an API key in an organization, perform the following steps:

    1. In the [TiDB Cloud console](https://tidbcloud.com), switch to your target organization using the combo box in the upper-left corner.
    2. In the left navigation pane, click **Organization Settings** > **API Keys**.
    3. On the **API Keys** page, click **Create API Key**.
    4. Enter a description for your API key. The role of the API key is always `Organization Owner` currently.
    5. Click **Next**. Copy and save the public key and the private key.
    6. Make sure that you have copied and saved the private key in a secure location. The private key only displays upon the creation. After leaving this page, you will not be able to get the full private key again.
    7. Click **Done**.

    ### View details of an API key

    To view details of an API key, perform the following steps:

    1. In the [TiDB Cloud console](https://tidbcloud.com), switch to your target organization using the combo box in the upper-left corner.
    2. In the left navigation pane, click **Organization Settings** > **API Keys**.
    3. You can view the details of the API keys on the page.

    ### Edit an API key

    Only the **owner** of an organization can modify an API key.

    To edit an API key in an organization, perform the following steps:

    1. In the [TiDB Cloud console](https://tidbcloud.com), switch to your target organization using the combo box in the upper-left corner.
    2. In the left navigation pane, click **Organization Settings** > **API Keys**.
    3. On the **API Keys** page, click **...** in the API key row that you want to change, and then click **Edit**.
    4. You can update the API key description.
    5. Click **Update**.

    ### Delete an API key

    Only the **owner** of an organization can delete an API key.

    To delete an API key in an organization, perform the following steps:

    1. In the [TiDB Cloud console](https://tidbcloud.com), switch to your target organization using the combo box in the upper-left corner.
    2. In the left navigation pane, click **Organization Settings** > **API Keys**.
    3. On the **API Keys** page, click **...** in the API key row that you want to delete, and then click **Delete**.
    4. Click **I understand, delete it.**

    # Rate Limiting

    The TiDB Cloud API allows up to 100 requests per minute per API key. If you exceed the rate limit, the API returns a `429` error. For more quota, you can [submit a request](https://support.pingcap.com/hc/en-us/requests/new?ticket_form_id=7800003722519) to contact our support team.

    Each API request returns the following headers about the limit.

    - `X-Ratelimit-Limit-Minute`: The number of requests allowed per minute. It is 100 currently.
    - `X-Ratelimit-Remaining-Minute`: The number of remaining requests in the current minute. When it reaches `0`, the API returns a `429` error and indicates that you exceed the rate limit.
    - `X-Ratelimit-Reset`: The time in seconds at which the current rate limit resets.

    If you exceed the rate limit, an error response returns like this.

    ```
    > HTTP/2 429
    > date: Fri, 22 Jul 2022 05:28:37 GMT
    > content-type: application/json
    > content-length: 66
    > x-ratelimit-reset: 23
    > x-ratelimit-remaining-minute: 0
    > x-ratelimit-limit-minute: 100
    > x-kong-response-latency: 2
    > server: kong/2.8.1

    > {"details":[],"code":49900007,"message":"The request exceeded the limit of 100 times per apikey per minute. For more quota, please contact us: https://support.pingcap.com/hc/en-us/requests/new?ticket_form_id=7800003722519"}
    ```

    # API Changelog

    This changelog lists all changes to the TiDB Cloud API.

    <!-- In reverse chronological order -->

    ## 20250812

    - Initial release of the TiDB Cloud Starter and Essential API, including the following resources and endpoints:

     - Cluster:
     - [List TiDB Cloud Starter and Essential clusters](#tag/Cluster/operation/ClusterService_ListClusters)
     - [Create a new TiDB Cloud Starter or Essential cluster](#tag/Cluster/operation/ClusterService_CreateCluster)
     - [Get details of a TiDB Cloud Starter or Essential cluster](#tag/Cluster/operation/ClusterService_GetCluster)
     - [Delete a TiDB Cloud Starter or Essential cluster](#tag/Cluster/operation/ClusterService_DeleteCluster)
     - [Update a TiDB Cloud Starter or Essential cluster](#tag/Cluster/operation/ClusterService_PartialUpdateCluster)
     - [List available regions for an organization](#tag/Cluster/operation/ClusterService_ListRegions)
     - Branch:
     - [List branches](#tag/Branch/operation/BranchService_ListBranches)
     - [Create a branch](#tag/Branch/operation/BranchService_CreateBranch)
     - [Get details of a branch](#tag/Branch/operation/BranchService_GetBranch)
     - [Delete a branch](#tag/Branch/operation/BranchService_DeleteBranch)
     - [Reset a branch](#tag/Branch/operation/BranchService_ResetBranch)
     - Export:
     - [List export tasks for a cluster](#tag/Export/operation/ExportService_ListExports)
     - [Create an export task](#tag/Export/operation/ExportService_CreateExport)
     - [Get details of an export task](#tag/Export/operation/ExportService_GetExport)
     - [Delete an export task](#tag/Export/operation/ExportService_DeleteExport)
     - [Cancel an export task](#tag/Export/operation/ExportService_CancelExport)
     - Import:
     - [List import tasks for a cluster](#tag/Import/operation/ImportService_ListImports)
     - [Create an import task](#tag/Import/operation/ImportService_CreateImport)
     - [Get an import task](#tag/Import/operation/ImportService_GetImport)
     - [Cancel an import task](#tag/Import/operation/ImportService_CancelImport)
  title: TiDB Cloud Starter and Essential API
  version: v1beta1
externalDocs:
  description: More about TiDB Cloud API
  url: https://docs.pingcap.com/tidbcloud/api-overview
servers:
- url: https://serverless.tidbapi.com/v1beta1
tags:
- name: ClusterService
paths:
  /clusters:
    get:
      operationId: ClusterService_ListClusters
      parameters:
      - description: "The maximum number of clusters to return. If not specified,\
          \ at most 10 clusters will be returned. The maximum value is `100`. Values\
          \ greater than `100` are set to `100`."
        in: query
        name: pageSize
        schema:
          default: 10
          format: int32
          type: integer
      - description: |-
          The pagination token received from a previous [List clusters](#tag/Cluster/operation/ClusterService_ListClusters) request. Use this token to retrieve the next page of results.

          **Note**: When paginating, all other parameters must match the original request.
        in: query
        name: pageToken
        schema:
          type: string
      - description: |-
          An expression that filters the list of clusters based on specific criteria. Uses Google AIP syntax with `=` and `AND` operators. You can filter by `region`, `state`, `projectId`, `clusterId`, `displayName`, and `labels`.

          **Available filters**:
          - `region.provider`: the cloud provider where the cluster is located, such as `aws` or `alicloud`.
          - `region.name`: the name of the region where the cluster is located, in the format of `regions/{provider}-{region}`, such as `regions/aws-us-east-1`.
          - `state`: the state of the cluster state, such as `ACTIVE` or `CREATING`.
          - `projectId`: the ID of the project ID. You can specify multiple values separated by commas.
          - `clusterId`: the ID of the cluster. You can specify multiple values separated by commas.
          - `displayName`: the display name of the cluster.
          - `labels.{key}`: the labels of the cluster labels, such as `labels.environment=production`.

          **Examples**:
          - `filter=region.provider="aws" AND state="ACTIVE"`
          - `filter=projectId=12345 AND displayName="my-cluster"`
        in: query
        name: filter
        schema:
          type: string
      - description: The number of individual resources to skip before starting to
          return results.
        in: query
        name: orderBy
        schema:
          type: string
      - description: "The number of clusters to skip before returning results. If\
          \ the value exceeds the total number of clusters, the response is `200`\
          \ with an empty list and no `nextPageToken`."
        in: query
        name: skip
        schema:
          format: int32
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/tidb_cloud_open_apiserverlessv1beta1ListClustersResponse'
          description: A successful response.
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: A request field is invalid.
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key cannot be authenticated.
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key does not have permission to access the resource.
        "429":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: You have exceeded the rate limit.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: Internal server error.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: An unexpected error response.
      summary: List TiDB Cloud Starter and Essential clusters
      tags:
      - ClusterService
      x-codeSamples:
      - label: curl
        lang: cURL
        source: |-
          curl --location 'https://serverless.tidbapi.com/v1beta1/clusters' \
          --digest --user 'YOUR_PUBLIC_KEY:YOUR_PRIVATE_KEY' \
          --header 'Accept: application/json'
    post:
      operationId: ClusterService_CreateCluster
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/tidb_cloud_open_apiserverlessv1beta1Cluster'
        description: The cluster to create.
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/tidb_cloud_open_apiserverlessv1beta1Cluster'
          description: A successful response.
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: A request field is invalid.
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key cannot be authenticated.
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key does not have permission to access the resource.
        "429":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: You have exceeded the rate limit.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: Internal server error.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: An unexpected error response.
      summary: Create a new TiDB Cloud Starter or Essential cluster
      tags:
      - ClusterService
      x-codeSamples:
      - label: curl
        lang: cURL
        source: |-
          curl --location 'https://serverless.tidbapi.com/v1beta1/clusters' \
          --digest --user 'YOUR_PUBLIC_KEY:YOUR_PRIVATE_KEY' \
          --header 'Content-Type: application/json' \
          --header 'Accept: application/json' \
          --data '{
              "displayName": "test",
              "labels": {
                  "tidb.cloud/project": "2293484"
              },
              "region": {
                  "name": "regions/aws-us-east-1"
              }
          }'
      x-codegen-request-body-name: cluster
  /clusters/{clusterId}:
    delete:
      operationId: ClusterService_DeleteCluster
      parameters:
      - description: The ID of the cluster to delete.
        in: path
        name: clusterId
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/tidb_cloud_open_apiserverlessv1beta1Cluster'
          description: A successful response.
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: A request field is invalid.
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key cannot be authenticated.
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key does not have permission to access the resource.
        "429":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: You have exceeded the rate limit.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: Internal server error.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: An unexpected error response.
      summary: Delete a TiDB Cloud Starter or Essential cluster
      tags:
      - ClusterService
      x-codeSamples:
      - label: curl
        lang: cURL
        source: |-
          curl --location --request DELETE 'https://serverless.tidbapi.com/v1beta1/clusters/{cluster_id}' \
          --digest --user 'YOUR_PUBLIC_KEY:YOUR_PRIVATE_KEY' \
          --header 'Accept: application/json'
    get:
      operationId: ClusterService_GetCluster
      parameters:
      - description: The ID of the cluster to retrieve.
        in: path
        name: clusterId
        required: true
        schema:
          type: string
      - description: |-
          The detail level of the cluster information to return.

          - `BASIC`: returns only basic cluster information.
          - `FULL`: returns complete cluster details.
        in: query
        name: view
        schema:
          $ref: '#/components/schemas/ClusterService_GetCluster_view_parameter'
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/tidb_cloud_open_apiserverlessv1beta1Cluster'
          description: A successful response.
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: A request field is invalid.
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key cannot be authenticated.
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key does not have permission to access the resource.
        "429":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: You have exceeded the rate limit.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: Internal server error.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: An unexpected error response.
      summary: Get details of a TiDB Cloud Starter or Essential cluster
      tags:
      - ClusterService
      x-codeSamples:
      - label: curl
        lang: cURL
        source: |-
          curl --location 'https://serverless.tidbapi.com/v1beta1/clusters/{cluster_id}' \
          --digest --user 'YOUR_PUBLIC_KEY:YOUR_PRIVATE_KEY' \
          --header 'Accept: application/json'
  /clusters/{cluster.clusterId}:
    patch:
      operationId: ClusterService_PartialUpdateCluster
      parameters:
      - description: The ID of the cluster to update.
        in: path
        name: cluster.clusterId
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v1beta1ClusterServicePartialUpdateClusterBody'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/tidb_cloud_open_apiserverlessv1beta1Cluster'
          description: A successful response.
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: A request field is invalid.
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key cannot be authenticated.
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key does not have permission to access the resource.
        "429":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: You have exceeded the rate limit.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: Internal server error.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: An unexpected error response.
      summary: Update a TiDB Cloud Starter or Essential cluster
      tags:
      - ClusterService
      x-codeSamples:
      - label: curl
        lang: cURL
        source: |-
          curl --location --request PATCH 'https://serverless.tidbapi.com/v1beta1/clusters/{cluster_id}' \
          --digest --user 'YOUR_PUBLIC_KEY:YOUR_PRIVATE_KEY' \
          --header 'Content-Type: application/json' \
          --header 'Accept: application/json' \
          --data '{
            "updateMask": "displayName",
            "cluster": {
              "displayName": "test",
              "spendingLimit": {
                "monthly": 10000
              },
              "automatedBackupPolicy": {
                "startTime": "10:00"
              },
              "endpoints": {
                "public": {
                  "disabled": false,
                  "authorizedNetworks": [
                    {
                      "startIpAddress": "0.0.0.0",
                      "endIpAddress": "255.255.255.255",
                      "displayName": "allow-all"
                    }
                  ]
                }
              },
              "labels": {
                "label1": "label1"
              },
              "auditLogConfig": {
                "enabled": true,
                "unredacted": true
              },
              "autoScaling": {
                "minRcu": 20000,
                "maxRcu": 30000
              }
            }
          }'
      x-codegen-request-body-name: body
  /clusters/{clusterId}/password:
    put:
      operationId: ClusterService_ChangeRootPassword
      parameters:
      - description: The ID of the cluster for which the password is to be changed.
        in: path
        name: clusterId
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ClusterServiceChangeRootPasswordBody'
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1beta1ChangeRootPasswordResponse'
          description: A successful response.
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: A request field is invalid.
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key cannot be authenticated.
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key does not have permission to access the resource.
        "429":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: You have exceeded the rate limit.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: Internal server error.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: An unexpected error response.
      summary: Changes the root password of a specific TiDB Cloud Serverless cluster
      tags:
      - ClusterService
      x-codegen-request-body-name: body
  /regions:
    get:
      description: "Before creating a TiDB Cloud Starter or Essential cluster, you\
        \ can use this endpoint to list available regions in your organization."
      operationId: ClusterService_ListRegions
      parameters:
      - description: "If specified, only regions of the specified cloud provider will\
          \ be returned."
        in: query
        name: cloudProvider
        schema:
          type: string
      - description: "If specified, only regions that support the specified service\
          \ plan will be returned."
        in: query
        name: servicePlan
        schema:
          $ref: '#/components/schemas/ClusterService_ListRegions_servicePlan_parameter'
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/tidb_cloud_open_apiserverlessv1beta1ListRegionsResponse'
          description: A successful response.
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: A request field is invalid.
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key cannot be authenticated.
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key does not have permission to access the resource.
        "429":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: You have exceeded the rate limit.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: Internal server error.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: An unexpected error response.
      summary: List available regions for an organization
      tags:
      - ClusterService
      x-codeSamples:
      - label: curl
        lang: cURL
        source: |-
          curl --location 'https://serverless.tidbapi.com/v1beta1/regions' \
          --digest --user 'YOUR_PUBLIC_KEY:YOUR_PRIVATE_KEY' \
          --header 'Accept: application/json'
  /regions:listCloudProviders:
    get:
      operationId: ClusterService_ListCloudProviders
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/serverlessv1beta1ListCloudProvidersResponse'
          description: A successful response.
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: A request field is invalid.
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key cannot be authenticated.
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key does not have permission to access the resource.
        "429":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: You have exceeded the rate limit.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: Internal server error.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: An unexpected error response.
      summary: List available cloud providers for an organization
      tags:
      - ClusterService
  /clusters:batchCreate:
    post:
      description: "The operation is atomic: it fails for all clusters or succeeds\
        \ for all clusters (no partial success)."
      operationId: ClusterService_BatchCreateClusters
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v1beta1BatchCreateClustersRequest'
        description: Message for requesting to create a batch of TiDB Cloud Starter
          and Essential clusters.
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1beta1BatchCreateClustersResponse'
          description: A successful response.
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: A request field is invalid.
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key cannot be authenticated.
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key does not have permission to access the resource.
        "429":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: You have exceeded the rate limit.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: Internal server error.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: An unexpected error response.
      summary: Creates new TiDB Cloud Starter and Essential clusters in batch
      tags:
      - ClusterService
      x-codegen-request-body-name: body
  /clusters:batchGet:
    get:
      description: |-
        The operation is atomic: it fails for all clusters or succeeds for all clusters (no partial success).
        For situations requiring partial failures, ListClusters method should be used.
      operationId: ClusterService_BatchGetClusters
      parameters:
      - description: A maximum of 1000 clusters can be get in a batch.
        explode: true
        in: query
        name: clusterIds
        required: true
        schema:
          items:
            type: string
          type: array
        style: form
      - description: The level of detail to return for the cluster.
        in: query
        name: view
        schema:
          $ref: '#/components/schemas/ClusterService_GetCluster_view_parameter'
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v1beta1BatchGetClustersResponse'
          description: A successful response.
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: A request field is invalid.
        "401":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key cannot be authenticated.
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: The API key does not have permission to access the resource.
        "429":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: You have exceeded the rate limit.
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: Internal server error.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/googlerpcStatus'
          description: An unexpected error response.
      summary: Retrieves details of TiDB Cloud Starter and Essential clusters in batch
      tags:
      - ClusterService
components:
  schemas:
    ClusterClusterPlan:
      description: |-
        The plan of the cluster.

        - `STARTER`: [TiDB Cloud Starter](https://docs.pingcap.com/tidbcloud/select-cluster-tier/#tidb-cloud-serverless)
        - `ESSENTIAL`: [TiDB Cloud Essential](https://docs.pingcap.com/tidbcloud/select-cluster-tier/#essential).
      enum:
      - STARTER
      - ESSENTIAL
      type: string
    ClusterServiceChangeRootPasswordBody:
      description: Message for requesting to change the root password of a TiDB Cloud
        Starter or Essential cluster.
      example:
        password: password
      properties:
        password:
          description: The new root password for the cluster.
          type: string
      required:
      - password
      type: object
    ClusterSpendingLimit:
      description: Message for spending limit configuration.
      properties:
        monthly:
          description: "The maximum spending limit for the cluster per month, in USD\
            \ cents."
          format: int32
          type: integer
      type: object
    EndpointsPrivate:
      description: Message for private endpoint to securely connect to the cluster.
      properties:
        host:
          description: The hostname of the private endpoint.
          readOnly: true
          type: string
        port:
          description: The port number of the private endpoint.
          format: int32
          readOnly: true
          type: integer
        aws:
          allOf:
          - $ref: '#/components/schemas/PrivateAWS'
          type: object
        gcp:
          allOf:
          - $ref: '#/components/schemas/PrivateGCP'
          type: object
        alicloud:
          allOf:
          - $ref: '#/components/schemas/PrivateALICLOUD'
          type: object
      type: object
    EndpointsPublic:
      description: Message for public endpoint to connect to the cluster.
      properties:
        host:
          description: The hostname of the public endpoint.
          readOnly: true
          type: string
        port:
          format: int32
          readOnly: true
          title: The port number of the public endpoint
          type: integer
        disabled:
          description: Indicates whether the public endpoint is disabled.
          type: boolean
        authorizedNetworks:
          description: The list of networks that are allowed to connect to the cluster.
          items:
            $ref: '#/components/schemas/EndpointsPublicAuthorizedNetwork'
          type: array
      type: object
    EndpointsPublicAuthorizedNetwork:
      properties:
        startIpAddress:
          description: The starting IP address of the authorized network range.
          type: string
        endIpAddress:
          description: The ending IP address of the authorized network range.
          type: string
        displayName:
          description: The display name of the authorized network.
          type: string
      required:
      - displayName
      - endIpAddress
      - startIpAddress
      type: object
    PrivateALICLOUD:
      description: "The [Alibaba Cloud PrivateLink](https://www.alibabacloud.com/help/en/privatelink/product-overview/what-is-a-private-network-connection)\
        \ configuration for private access."
      properties:
        serviceName:
          description: The Alibaba Cloud service name for private access.
          readOnly: true
          type: string
        availabilityZone:
          description: A list of availability zones where the service is available.
          items:
            type: string
          readOnly: true
          type: array
      type: object
    PrivateAWS:
      description: "The [AWS PrivateLink](https://aws.amazon.com/privatelink/) configuration\
        \ details for private access."
      properties:
        serviceName:
          description: The AWS service name for private access.
          readOnly: true
          type: string
        availabilityZone:
          description: A list of availability zones where the service is available.
          items:
            type: string
          readOnly: true
          type: array
      type: object
    PrivateGCP:
      description: Message for GCP Private Service information.
      properties:
        serviceAttachmentName:
          description: The target GCP service attachment name for private access.
          readOnly: true
          type: string
      type: object
    commonv1beta1ClusterState:
      description: |-
        Enum of possible states of a cluster.

         - CREATING: Cluster is being created.
         - DELETING: Cluster is being deleted.
         - ACTIVE: Cluster is active for use.
         - RESTORING: Cluster data is being restored.
         - MAINTENANCE: Cluster is under maintenance.
         - DELETED: Cluster has been deleted.
         - INACTIVE: Cluster is not active, but not being deleted.
         - UPGRADING: Cluster is being updated.
        Only for Dedicated Cluster.
         - IMPORTING: Cluster is being imported.
        Only for Dedicated Cluster.
         - MODIFYING: Cluster is being modified.
        Only for Dedicated Cluster.
         - PAUSING: Cluster is being paused.
        Only for Dedicated Cluster.
         - PAUSED: Cluster is paused.
        Only for Dedicated Cluster.
         - RESUMING: Cluster is resuming.
        Only for Dedicated Cluster.
      enum:
      - CREATING
      - DELETING
      - ACTIVE
      - RESTORING
      - MAINTENANCE
      - DELETED
      - INACTIVE
      - UPGRADING
      - IMPORTING
      - MODIFYING
      - PAUSING
      - PAUSED
      - RESUMING
      type: string
    commonv1beta1Region:
      description: A representation of a region for deploying TiDB clusters.
      example:
        regionId: aws-us-west-2
        provider: aws
        displayName: Oregon (us-west-2)
        cloudProvider: aws
        name: regions/aws-us-west-2
        servicePlans:
        - Starter
        - Essential
        - Premium
      properties:
        name:
          description: "The unique name of the region, in the format of `regions/{region_id}`.\
            \ For example, `regions/aws-us-west-2`."
          example: regions/aws-us-west-2
          pattern: ^regions/(aws|gcp|azure)-(.+)$
          type: string
        regionId:
          description: "The unique identifier for the region, in the format of `{cloud_provider}-{region_code}`.\
            \ For example, `aws-us-west-2`."
          example: aws-us-west-2
          pattern: "^(aws|gcp|azure|alicloud)-[a-z0-9-]+$"
          readOnly: true
          type: string
        cloudProvider:
          allOf:
          - $ref: '#/components/schemas/v1beta1RegionCloudProvider'
          description: |-
            The cloud provider that offers the region.

            - `"aws"`: Amazon Web Services

            - `"gcp"`: Google Cloud

            - `"azure"`: Microsoft Azure

            - `"alicloud"`: Alibaba Cloud
          example: aws
          type: object
        displayName:
          description: "A human-readable name for the region. For example, `Oregon\
            \ (us-west-2)`."
          example: Oregon (us-west-2)
          readOnly: true
          type: string
        provider:
          description: "**Deprecated.** Use `cloudProvider` instead. The name of the\
            \ cloud provider. For example, `aws`, `gcp`, `azure`, or `alicloud`."
          example: aws
          nullable: true
          readOnly: true
          title: Deprecated
          type: string
        servicePlans:
          description: The service plans available in this region.
          example:
          - Starter
          - Essential
          - Premium
          items:
            $ref: '#/components/schemas/commonv1beta1ServicePlan'
          readOnly: true
          title: ServicePlan
          type: array
      type: object
    commonv1beta1ServicePlan:
      enum:
      - Starter
      - Essential
      - Premium
      - BYOC
      type: string
    googlerpcStatus:
      description: |-
        The `Status` type defines a logical error model that is suitable for
        different programming environments, including REST APIs and RPC APIs. It is
        used by [gRPC](https://github.com/grpc). Each `Status` message contains
        three pieces of data: error code, error message, and error details.

        You can find out more about this error model and how to work with it in the
        [API Design Guide](https://cloud.google.com/apis/design/errors).
      example:
        code: 6
        details:
        - '@type': '@type'
        - '@type': '@type'
        message: message
      properties:
        code:
          description: |-
            The status code, which should be an enum value of
            [google.rpc.Code][google.rpc.Code].
          format: int32
          type: integer
        message:
          description: |-
            A developer-facing error message, which should be in English. Any
            user-facing error message should be localized and sent in the
            [google.rpc.Status.details][google.rpc.Status.details] field, or localized
            by the client.
          type: string
        details:
          description: |-
            A list of messages that carry the error details.  There is a common set of
            message types for APIs to use.
          items:
            $ref: '#/components/schemas/protobufAny'
          type: array
      type: object
    protobufAny:
      additionalProperties:
        type: object
      description: |-
        `Any` contains an arbitrary serialized protocol buffer message along with a
        URL that describes the type of the serialized message.

        Protobuf library provides support to pack/unpack Any values in the form
        of utility functions or additional generated methods of the Any type.

        Example 1: Pack and unpack a message in C++.

            Foo foo = ...;
            Any any;
            any.PackFrom(foo);
            ...
            if (any.UnpackTo(&foo)) {
              ...
            }

        Example 2: Pack and unpack a message in Java.

            Foo foo = ...;
            Any any = Any.pack(foo);
            ...
            if (any.is(Foo.class)) {
              foo = any.unpack(Foo.class);
            }
            // or ...
            if (any.isSameTypeAs(Foo.getDefaultInstance())) {
              foo = any.unpack(Foo.getDefaultInstance());
            }

         Example 3: Pack and unpack a message in Python.

            foo = Foo(...)
            any = Any()
            any.Pack(foo)
            ...
            if any.Is(Foo.DESCRIPTOR):
              any.Unpack(foo)
              ...

         Example 4: Pack and unpack a message in Go

             foo := &pb.Foo{...}
             any, err := anypb.New(foo)
             if err != nil {
               ...
             }
             ...
             foo := &pb.Foo{}
             if err := any.UnmarshalTo(foo); err != nil {
               ...
             }

        The pack methods provided by protobuf library will by default use
        'type.googleapis.com/full.type.name' as the type URL and the unpack
        methods only use the fully qualified type name after the last '/'
        in the type URL, for example "foo.bar.com/x/y.z" will yield type
        name "y.z".

        JSON
        ====
        The JSON representation of an `Any` value uses the regular
        representation of the deserialized, embedded message, with an
        additional field `@type` which contains the type URL. Example:

            package google.profile;
            message Person {
              string first_name = 1;
              string last_name = 2;
            }

            {
              "@type": "type.googleapis.com/google.profile.Person",
              "firstName": <string>,
              "lastName": <string>
            }

        If the embedded message type is well-known and has a custom JSON
        representation, that representation will be embedded adding a field
        `value` which holds the custom JSON in addition to the `@type`
        field. Example (for message [google.protobuf.Duration][]):

            {
              "@type": "type.googleapis.com/google.protobuf.Duration",
              "value": "1.212s"
            }
      example:
        '@type': '@type'
      properties:
        '@type':
          description: |-
            A URL/resource name that uniquely identifies the type of the serialized
            protocol buffer message. This string must contain at least
            one "/" character. The last segment of the URL's path must represent
            the fully qualified name of the type (as in
            `path/google.protobuf.Duration`). The name should be in a canonical form
            (e.g., leading "." is not accepted).

            In practice, teams usually precompile into the binary all types that they
            expect it to use in the context of Any. However, for URLs which use the
            scheme `http`, `https`, or no scheme, one can optionally set up a type
            server that maps type URLs to message definitions as follows:

            * If no scheme is provided, `https` is assumed.
            * An HTTP GET on the URL must yield a [google.protobuf.Type][]
              value in binary format, or produce an error.
            * Applications are allowed to cache lookup results based on the
              URL, or have them precompiled into a binary to avoid any
              lookup. Therefore, binary compatibility needs to be preserved
              on changes to types. (Use versioned type names to manage
              breaking changes.)

            Note: this functionality is not currently available in the official
            protobuf release, and it is not used for type URLs beginning with
            type.googleapis.com. As of May 2023, there are no widely used type server
            implementations and no plans to implement one.

            Schemes other than `http`, `https` (or the empty scheme) might be
            used with implementation specific semantics.
          type: string
      type: object
    serverlessv1beta1ClusterHighAvailabilityType:
      description: |-
        The high availability configuration for the cluster.

        - `ZONAL`: high availability within a single availability zone. For more information, see [Zonal high availability architecture](https://docs.pingcap.com/tidbcloud/serverless-high-availability/#zonal-high-availability-architecture).
        - `REGIONAL`: high availability across multiple availability zones within a region. For more information, see [Regional high availability architecture](https://docs.pingcap.com/tidbcloud/serverless-high-availability/#regional-high-availability-architecture).
      enum:
      - ZONAL
      - REGIONAL
      type: string
    serverlessv1beta1ClusterView:
      description: Enum for the different types of detail view to be returned for
        a TiDB Cloud Starter or Essential cluster.
      enum:
      - BASIC
      - FULL
      type: string
    serverlessv1beta1ListCloudProvidersResponse:
      example:
        cloudProviders:
        - aws
        - aws
      properties:
        cloudProviders:
          description: The list of cloud providers.
          items:
            $ref: '#/components/schemas/v1beta1RegionCloudProvider'
          type: array
      type: object
    tidb_cloud_open_apiserverlessv1beta1Cluster:
      description: Message for a TiDB Cloud Starter or Essential cluster.
      example:
        encryptionConfig: "{}"
        endpoints: "{}"
        autoScaling: "{}"
        automatedBackupPolicy: "{}"
        displayName: foo-bar
        annotations:
          key: annotations
        updateTime: 2000-01-23T04:56:07.000+00:00
        clusterId: clusterId
        version: version
        labels:
          key: labels
        clusterPlan: "{}"
        spendingLimit: "{}"
        servicePlan: "{}"
        createdBy: createdBy
        createTime: 2000-01-23T04:56:07.000+00:00
        auditLogConfig: "{}"
        highAvailabilityType: ZONAL
        name: name
        userPrefix: userPrefix
        state: "{}"
        region: "{}"
        rootPassword: my-shining-password
      properties:
        name:
          description: "The unique identifier for the TiDB cluster, which is generated\
            \ by the API and follows the format `clusters/{clusterId}`."
          readOnly: true
          type: string
        clusterId:
          description: The ID of the cluster.
          readOnly: true
          type: string
        displayName:
          description: The user-defined name of the cluster.
          example: foo-bar
          maxLength: 64
          minLength: 4
          pattern: "^[A-Za-z0-9][-A-Za-z0-9]{2,62}[A-Za-z0-9]$"
          type: string
        region:
          allOf:
          - $ref: '#/components/schemas/commonv1beta1Region'
          description: The region where the cluster is deployed.
          type: object
        spendingLimit:
          allOf:
          - $ref: '#/components/schemas/ClusterSpendingLimit'
          description: "The [spending limit](https://docs.pingcap.com/tidbcloud/tidb-cloud-glossary/#spending-limit)\
            \ for the cluster."
          type: object
        automatedBackupPolicy:
          allOf:
          - $ref: '#/components/schemas/v1beta1ClusterAutomatedBackupPolicy'
          description: The schedule and retention rules for automated database backups.
          type: object
        endpoints:
          allOf:
          - $ref: '#/components/schemas/v1beta1ClusterEndpoints'
          description: The connection endpoints for accessing the cluster.
          type: object
        rootPassword:
          description: "The root password of the cluster. It must be between 8 and\
            \ 64 characters long and can contain letters, numbers, and special characters."
          example: my-shining-password
          maxLength: 64
          minLength: 8
          pattern: "^.{8,64}$"
          type: string
        encryptionConfig:
          allOf:
          - $ref: '#/components/schemas/v1beta1ClusterEncryptionConfig'
          description: The data encryption settings for the cluster.
          type: object
        highAvailabilityType:
          $ref: '#/components/schemas/serverlessv1beta1ClusterHighAvailabilityType'
        version:
          description: The TiDB version of the cluster.
          readOnly: true
          type: string
        createdBy:
          description: The email address of the user who create the cluster.
          readOnly: true
          type: string
        userPrefix:
          description: "The unique prefix automatically generated for SQL usernames\
            \ on this cluster. TiDB Cloud uses this prefix to distinguish between\
            \ clusters. For more information, see [User name prefix](https://docs.pingcap.com/tidbcloud/select-cluster-tier/#user-name-prefix)."
          readOnly: true
          type: string
        state:
          allOf:
          - $ref: '#/components/schemas/commonv1beta1ClusterState'
          description: The current state of the cluster.
          type: object
        labels:
          additionalProperties:
            type: string
          description: |-
            The labels for the cluster.

            - `tidb.cloud/organization`: the ID of the organization where the cluster belongs.
            - `tidb.cloud/project`: the ID of the project where the cluster belongs.
          type: object
        annotations:
          additionalProperties:
            type: string
          description: |-
            The annotations for the cluster. The following lists some predefined annotations.

            - `tidb.cloud/has-set-password`: indicates whether the cluster has a root password set.
            - `tidb.cloud/available-features`: lists available features of the cluster.
          readOnly: true
          type: object
        createTime:
          description: "The timestamp when the cluster was created, in the [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)\
            \ format."
          format: date-time
          readOnly: true
          type: string
        updateTime:
          description: "The timestamp when the cluster was last updated, in the [ISO\
            \ 8601](https://en.wikipedia.org/wiki/ISO_8601) format."
          format: date-time
          readOnly: true
          type: string
        auditLogConfig:
          allOf:
          - $ref: '#/components/schemas/v1beta1ClusterAuditLogConfig'
          description: The audit log configuration for the cluster.
          type: object
        clusterPlan:
          allOf:
          - $ref: '#/components/schemas/ClusterClusterPlan'
          type: object
        autoScaling:
          allOf:
          - $ref: '#/components/schemas/v1beta1ClusterAutoScaling'
          description: The auto-scaling configuration for the cluster.
          type: object
        servicePlan:
          allOf:
          - $ref: '#/components/schemas/commonv1beta1ServicePlan'
          type: object
      required:
      - displayName
      - region
      type: object
    tidb_cloud_open_apiserverlessv1beta1CreateClusterRequest:
      description: Message for requesting to create a TiDB Cloud Starter or Essential
        cluster.
      properties:
        cluster:
          allOf:
          - $ref: '#/components/schemas/tidb_cloud_open_apiserverlessv1beta1Cluster'
          description: The cluster to create.
          type: object
      type: object
    tidb_cloud_open_apiserverlessv1beta1ListClustersResponse:
      description: Responses message to the request for listing of TiDB Cloud Starter
        and Essential clusters.
      example:
        totalSize: 0
        nextPageToken: nextPageToken
        clusters:
        - encryptionConfig: "{}"
          endpoints: "{}"
          autoScaling: "{}"
          automatedBackupPolicy: "{}"
          displayName: foo-bar
          annotations:
            key: annotations
          updateTime: 2000-01-23T04:56:07.000+00:00
          clusterId: clusterId
          version: version
          labels:
            key: labels
          clusterPlan: "{}"
          spendingLimit: "{}"
          servicePlan: "{}"
          createdBy: createdBy
          createTime: 2000-01-23T04:56:07.000+00:00
          auditLogConfig: "{}"
          highAvailabilityType: ZONAL
          name: name
          userPrefix: userPrefix
          state: "{}"
          region: "{}"
          rootPassword: my-shining-password
        - encryptionConfig: "{}"
          endpoints: "{}"
          autoScaling: "{}"
          automatedBackupPolicy: "{}"
          displayName: foo-bar
          annotations:
            key: annotations
          updateTime: 2000-01-23T04:56:07.000+00:00
          clusterId: clusterId
          version: version
          labels:
            key: labels
          clusterPlan: "{}"
          spendingLimit: "{}"
          servicePlan: "{}"
          createdBy: createdBy
          createTime: 2000-01-23T04:56:07.000+00:00
          auditLogConfig: "{}"
          highAvailabilityType: ZONAL
          name: name
          userPrefix: userPrefix
          state: "{}"
          region: "{}"
          rootPassword: my-shining-password
      properties:
        clusters:
          description: A list of clusters that match the query.
          items:
            $ref: '#/components/schemas/tidb_cloud_open_apiserverlessv1beta1Cluster'
          type: array
        nextPageToken:
          description: The token to retrieve the next page of results. Use this value
            as the `pageToken` parameter in the next request. This field is empty
            when there are no more pages.
          type: string
        totalSize:
          description: The total number of clusters that match the query.
          format: int64
          type: integer
      type: object
    tidb_cloud_open_apiserverlessv1beta1ListRegionsResponse:
      description: Responses message to the request for listing of available regions
        in TiDB Cloud Starter and Essential.
      example:
        regions:
        - regionId: aws-us-west-2
          provider: aws
          displayName: Oregon (us-west-2)
          cloudProvider: aws
          name: regions/aws-us-west-2
          servicePlans:
          - Starter
          - Essential
          - Premium
        - regionId: aws-us-west-2
          provider: aws
          displayName: Oregon (us-west-2)
          cloudProvider: aws
          name: regions/aws-us-west-2
          servicePlans:
          - Starter
          - Essential
          - Premium
      properties:
        regions:
          description: A list of available regions.
          items:
            $ref: '#/components/schemas/commonv1beta1Region'
          type: array
      type: object
    v1beta1BatchCreateClustersRequest:
      description: Message for requesting to create a batch of TiDB Cloud Starter
        and Essential clusters.
      properties:
        requests:
          description: |-
            The request message specifying the resources to create.
            A maximum of 1000 clusters can be created in a batch.
          items:
            $ref: '#/components/schemas/tidb_cloud_open_apiserverlessv1beta1CreateClusterRequest'
          type: array
      required:
      - requests
      type: object
    v1beta1BatchCreateClustersResponse:
      description: Responses message to the request for creating a batch of TiDB Cloud
        Starter and Essential clusters.
      example:
        clusters:
        - encryptionConfig: "{}"
          endpoints: "{}"
          autoScaling: "{}"
          automatedBackupPolicy: "{}"
          displayName: foo-bar
          annotations:
            key: annotations
          updateTime: 2000-01-23T04:56:07.000+00:00
          clusterId: clusterId
          version: version
          labels:
            key: labels
          clusterPlan: "{}"
          spendingLimit: "{}"
          servicePlan: "{}"
          createdBy: createdBy
          createTime: 2000-01-23T04:56:07.000+00:00
          auditLogConfig: "{}"
          highAvailabilityType: ZONAL
          name: name
          userPrefix: userPrefix
          state: "{}"
          region: "{}"
          rootPassword: my-shining-password
        - encryptionConfig: "{}"
          endpoints: "{}"
          autoScaling: "{}"
          automatedBackupPolicy: "{}"
          displayName: foo-bar
          annotations:
            key: annotations
          updateTime: 2000-01-23T04:56:07.000+00:00
          clusterId: clusterId
          version: version
          labels:
            key: labels
          clusterPlan: "{}"
          spendingLimit: "{}"
          servicePlan: "{}"
          createdBy: createdBy
          createTime: 2000-01-23T04:56:07.000+00:00
          auditLogConfig: "{}"
          highAvailabilityType: ZONAL
          name: name
          userPrefix: userPrefix
          state: "{}"
          region: "{}"
          rootPassword: my-shining-password
      properties:
        clusters:
          description: Clusters created.
          items:
            $ref: '#/components/schemas/tidb_cloud_open_apiserverlessv1beta1Cluster'
          type: array
      type: object
    v1beta1BatchGetClustersResponse:
      description: Responses message to the request for retrieving a batch of TiDB
        Cloud Starter and Essential clusters.
      example:
        clusters:
        - encryptionConfig: "{}"
          endpoints: "{}"
          autoScaling: "{}"
          automatedBackupPolicy: "{}"
          displayName: foo-bar
          annotations:
            key: annotations
          updateTime: 2000-01-23T04:56:07.000+00:00
          clusterId: clusterId
          version: version
          labels:
            key: labels
          clusterPlan: "{}"
          spendingLimit: "{}"
          servicePlan: "{}"
          createdBy: createdBy
          createTime: 2000-01-23T04:56:07.000+00:00
          auditLogConfig: "{}"
          highAvailabilityType: ZONAL
          name: name
          userPrefix: userPrefix
          state: "{}"
          region: "{}"
          rootPassword: my-shining-password
        - encryptionConfig: "{}"
          endpoints: "{}"
          autoScaling: "{}"
          automatedBackupPolicy: "{}"
          displayName: foo-bar
          annotations:
            key: annotations
          updateTime: 2000-01-23T04:56:07.000+00:00
          clusterId: clusterId
          version: version
          labels:
            key: labels
          clusterPlan: "{}"
          spendingLimit: "{}"
          servicePlan: "{}"
          createdBy: createdBy
          createTime: 2000-01-23T04:56:07.000+00:00
          auditLogConfig: "{}"
          highAvailabilityType: ZONAL
          name: name
          userPrefix: userPrefix
          state: "{}"
          region: "{}"
          rootPassword: my-shining-password
      properties:
        clusters:
          description: Clusters created.
          items:
            $ref: '#/components/schemas/tidb_cloud_open_apiserverlessv1beta1Cluster'
          type: array
      type: object
    v1beta1ChangeRootPasswordResponse:
      description: Responses message to the request for changing the root password
        of a TiDB Cloud Starter or Essential cluster.
      type: object
    v1beta1ClusterAuditLogConfig:
      description: Message for audit log configuration.
      properties:
        enabled:
          description: Whether audit log is enabled.
          nullable: true
          type: boolean
        unredacted:
          description: Whether unredacted the audit log.
          nullable: true
          type: boolean
      type: object
    v1beta1ClusterAutoScaling:
      description: Message for auto scaling configuration.
      properties:
        minRcu:
          description: The minimum number of Request Capacity Units (RCUs) for auto-scaling.
          format: int64
          type: integer
        maxRcu:
          description: The maximum number of Request Capacity Units (RCUs) for auto-scaling.
          format: int64
          type: integer
      type: object
    v1beta1ClusterAutomatedBackupPolicy:
      description: Message for automated backup configuration for a cluster.
      properties:
        startTime:
          description: The UTC time of day in `HH:mm` format when the automated backup
            starts.
          type: string
        retentionDays:
          description: The number of days to retain automated backups.
          format: int32
          type: integer
      type: object
    v1beta1ClusterEncryptionConfig:
      description: Message for encryption settings for a cluster.
      properties:
        enhancedEncryptionEnabled:
          description: Indicates whether enhanced encryption for cluster data is enabled.
          type: boolean
      type: object
    v1beta1ClusterEndpoints:
      description: Message for endpoint information for connecting to a cluster.
      properties:
        public:
          allOf:
          - $ref: '#/components/schemas/EndpointsPublic'
          description: "The public endpoint configuration for connecting to the cluster.\
            \ For more information, see [Network](https://docs.pingcap.com/tidbcloud/connect-to-tidb-cluster-serverless/#network)."
          type: object
        private:
          allOf:
          - $ref: '#/components/schemas/EndpointsPrivate'
          description: "The private endpoint for securely connecting to the cluster.\
            \ For more information, see [Network](https://docs.pingcap.com/tidbcloud/connect-to-tidb-cluster-serverless/#network)."
          type: object
      type: object
    v1beta1ClusterServicePartialUpdateClusterBody:
      description: Message for requesting a partial update on a TiDB Cloud Starter
        or Essential cluster.
      properties:
        cluster:
          $ref: '#/components/schemas/v1beta1ClusterServicePartialUpdateClusterBody_cluster'
        updateMask:
          description: Specifies which fields to update in the cluster.
          type: string
      required:
      - updateMask
      type: object
    v1beta1PartialUpdateClusterRequestPartialUpdateCluster:
      description: The updated cluster configuration.
      properties:
        clusterId:
          description: The ID of the cluster to update.
          type: string
        displayName:
          description: The user-defined name of the cluster.
          type: string
        spendingLimit:
          allOf:
          - $ref: '#/components/schemas/ClusterSpendingLimit'
          description: "The [spending limit](https://docs.pingcap.com/tidbcloud/tidb-cloud-glossary/#spending-limit)\
            \ for the cluster."
          type: object
        automatedBackupPolicy:
          allOf:
          - $ref: '#/components/schemas/v1beta1ClusterAutomatedBackupPolicy'
          description: The schedule and retention rules for automated database backups.
          type: object
        endpoints:
          allOf:
          - $ref: '#/components/schemas/v1beta1ClusterEndpoints'
          description: The connection endpoints for accessing the cluster.
          type: object
        labels:
          additionalProperties:
            type: string
          description: |-
            The labels for the cluster.

            - `tidb.cloud/organization`: the ID of the organization where the cluster belongs.
            - `tidb.cloud/project`: the ID of the project where the cluster belongs.
          type: object
        auditLogConfig:
          allOf:
          - $ref: '#/components/schemas/v1beta1ClusterAuditLogConfig'
          description: The audit log configuration for the cluster.
          type: object
        autoScaling:
          allOf:
          - $ref: '#/components/schemas/v1beta1ClusterAutoScaling'
          description: The auto-scaling configuration for the cluster.
          type: object
      required:
      - clusterId
      type: object
    v1beta1RegionCloudProvider:
      description: |-
        Enum of cloud provider names.

         - aws: Amazon Web Services.
         - gcp: Google Cloud Platform.
         - azure: Microsoft Azure.
         - alicloud: Alibaba Cloud
      enum:
      - aws
      - gcp
      - azure
      - alicloud
      type: string
    ClusterService_GetCluster_view_parameter:
      enum:
      - BASIC
      - FULL
      type: string
    ClusterService_ListRegions_servicePlan_parameter:
      enum:
      - Starter
      - Essential
      - Premium
      - BYOC
      type: string
    v1beta1ClusterServicePartialUpdateClusterBody_cluster:
      description: The updated cluster configuration.
      properties:
        displayName:
          description: The user-defined name of the cluster.
          type: string
        spendingLimit:
          allOf:
          - $ref: '#/components/schemas/ClusterSpendingLimit'
          description: "The [spending limit](https://docs.pingcap.com/tidbcloud/tidb-cloud-glossary/#spending-limit)\
            \ for the cluster."
          type: object
        automatedBackupPolicy:
          allOf:
          - $ref: '#/components/schemas/v1beta1ClusterAutomatedBackupPolicy'
          description: The schedule and retention rules for automated database backups.
          type: object
        endpoints:
          allOf:
          - $ref: '#/components/schemas/v1beta1ClusterEndpoints'
          description: The connection endpoints for accessing the cluster.
          type: object
        labels:
          additionalProperties:
            type: string
          description: |-
            The labels for the cluster.

            - `tidb.cloud/organization`: the ID of the organization where the cluster belongs.
            - `tidb.cloud/project`: the ID of the project where the cluster belongs.
          type: object
        auditLogConfig:
          allOf:
          - $ref: '#/components/schemas/v1beta1ClusterAuditLogConfig'
          description: The audit log configuration for the cluster.
          type: object
        autoScaling:
          allOf:
          - $ref: '#/components/schemas/v1beta1ClusterAutoScaling'
          description: The auto-scaling configuration for the cluster.
          type: object
      type: object
x-original-swagger-version: "2.0"
